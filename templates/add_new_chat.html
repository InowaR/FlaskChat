<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8">
        <title>Главная страница</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    </head>
    <body>
		<div class="header">
			<form action="{{ url_for('get_list_chats') }}" method="get">
				<input class="logo" type="submit" value="Главная страница">
			</form>
			<div class="header-right">
				<form action="{{ url_for('get_profile') }}" method="get">
					<input type="submit" value="Профиль">
				</form>
				<form action="{{ url_for('get_logout') }}" method="get">
					<input type="submit" value="Выйти">
				</form>
			</div>
		</div>
		<h1>Новый чат</h1>
		<script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
		<style>
			#message {
				width: 300px;
			}
		</style>
		<div id="new_chat">
			<input type="text" id="message" placeholder="Введите название:">
		</div>
		<script>
			const socket = io();
			document.getElementById("message").addEventListener("keyup", function(event) {
				if (event.key == "Enter") {
					let message = document.getElementById("message").value;
					socket.emit("add_new_chat", message);
					document.getElementById("message").value = "";
				}
			})
			socket.on("add_new_chat", function(data) {
				let message = document.createElement("h1");
				message.textContent = data;
				document.body.appendChild(message);
			})
		</script>
    </body>
</html>
